window.EnzeyNet||(window.EnzeyNet={}),EnzeyNet.Services||(EnzeyNet.Services={}),EnzeyNet.Services.Eventing={},EnzeyNet.Services.Eventing.eventMatchers={HTMLEvents:{isEvent:function(a){return/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/.test(a)},fireEvent:function(a,b,c){var d=null;if(document.createEvent)d=document.createEvent("HTMLEvents"),d.initEvent(b,c.bubbles,c.cancelable),d.flyoutElem="foo",a.dispatchEvent(d);else{c.clientX=c.pointerX,c.clientY=c.pointerY;var e=document.createEventObject();d=extend(e,c),a.fireEvent("on"+b,d)}}},MouseEvents:{isEvent:function(a){return/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/.test(a)},fireEvent:function(a,b,c){var d=null;if(document.createEvent)d=document.createEvent("MouseEvents"),d.initMouseEvent(b,c.bubbles,c.cancelable,document.defaultView,c.button,c.pointerX,c.pointerY,c.pointerX,c.pointerY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.element),a.dispatchEvent(d);else{c.clientX=c.pointerX,c.clientY=c.pointerY;var e=document.createEventObject();d=extend(e,c),a.fireEvent("on"+b,d)}}}},EnzeyNet.Services.Eventing.defaultOptions={pointerX:0,pointerY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0},EnzeyNet.Services.dispatchEvent=function(a,b){var c=arguments[2]?arguments[2]:angular.copy(EnzeyNet.Services.Eventing.defaultOptions);c.element=c.element?c.element:a;var d=null,e=EnzeyNet.Services.Eventing.eventMatchers;for(var f in e)if(e[f].isEvent(b)){d=e[f].fireEvent;break}if(!d)throw new SyntaxError("Only HTMLEvents and MouseEvents interfaces are supported");d(a,b,c)},EnzeyNet.Services.dispatchCustomEvent=function(a,b){var c=arguments[2]?arguments[2]:angular.copy(EnzeyNet.Services.Eventing.defaultOptions);c.element=c.element?c.element:a;var d=EnzeyNet.Services.Eventing.eventMatchers.HTMLEvents.fireEvent;d(a,b,c)},EnzeyNet.Services.prepend=function(a,b){var c=a.children;0===c.length?a.appendChild(b):a.insertBefore(b,c[0])},EnzeyNet.Services.registerClickAwayAction=function(a){for(var b=function(a){if(!a instanceof HTMLElement)throw"must be an HTMLElement";var c=[];if(a.children)for(var d=a.children,e=0;e<d.length;e++)b(d[e]).forEach(function(a){c.push(a)});return c.push(a),c},c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);var e=null;e=function(d){var f=[];c.forEach(function(a){b(a).forEach(function(a){f.push(a)})}),-1===f.indexOf(d.target)&&(document.removeEventListener("click",e),a(d))},setTimeout(function(){document.addEventListener("click",e)})};